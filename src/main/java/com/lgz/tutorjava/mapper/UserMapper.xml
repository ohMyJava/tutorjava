<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.lgz.tutorjava.dao.UserMapper">
    <select id="userLoginCheck" resultType="java.util.Map" >
        select user_name,password from user where user_name=#{userName};
    </select>

    <select id="adminLoginCheck" resultType="java.util.Map" >
        select admin_name as username,admin_password as password from admin where admin_name=#{userName};
    </select>

    <insert id="register" parameterType="com.lgz.tutorjava.model.User">
        insert into user (user_name,password,name,age,sex,phone_number,reg_time)
        values (#{user.userName},#{user.password},#{user.name},#{user.age},#{user.sex},#{user.phoneNumber},#{user.regTime});
    </insert>

    <select id="userNameCheck" resultType="int">
        select count(*) from user where user_name=#{userName};
    </select>

    <select id="getUsernameList" resultType="string">
        select user_name from user where is_del=0;
    </select>

    <insert id="addUser" parameterType="com.lgz.tutorjava.model.User">
        insert into user (user_name, password, name, sex, age, phone_number, reg_time, is_del)
        VALUES(#{user.userName},#{user.password},#{user.name},#{user.sex},#{user.age},#{user.phoneNumber},#{user.regTime},0);
    </insert>
</mapper>